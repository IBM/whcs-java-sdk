<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>CustomCollection.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">IBM Watson Health Cognitive Services Coverage Reports</a> &gt; <a href="../index.html" class="el_bundle">annotator-for-clinical-data</a> &gt; <a href="index.source.html" class="el_package">com.ibm.watson.health.acd.v1.util</a> &gt; <span class="el_source">CustomCollection.java</span></div><h1>CustomCollection.java</h1><pre class="source lang-java linenums">/*
 * Copyright 2018 IBM Corp. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
 * an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations under the License.
 */
package com.ibm.watson.health.acd.v1.util;

import java.util.ArrayList;
import java.util.List;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonArray;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import com.ibm.watson.health.acd.v1.exception.IllegalMethodException;
import com.ibm.watson.health.acd.v1.exception.IndexNotAvailableException;
import com.ibm.watson.health.acd.v1.exception.ParameterNotAvailableException;

/**
 * CustomCollection
 *
 * To deserialize the response.
 *
 * This class is manually written and not generated from swagger codegen.
 * */


<span class="nc" id="L36">public class CustomCollection extends CustomDeserializer {</span>

  private JsonElement object;

  /**
   * Retrieves element within collection.
   * @return json object
   */
  public JsonElement getObject() {
<span class="nc" id="L45">    return object;</span>
  }

  /**
   * Sets element within collection.
   * @param tempobj object to add to collection
   */
  public void setObject(JsonElement tempobj) {
<span class="nc" id="L53">    this.object = tempobj;</span>
<span class="nc" id="L54">  }</span>

  /**
   * Retrieves collection by key.
   * @param key object key to retrieve
   *
   * @return the {@link CustomCollection}
   */

  public CustomCollection get(String key) throws ParameterNotAvailableException {
<span class="nc" id="L64">    CustomCollection cd = new CustomCollection();</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">    if (this.object instanceof JsonObject) {</span>
      // System.out.println(&quot;Object&quot;);
      try {
<span class="nc" id="L68">        JsonObject jsobj = this.getObject().getAsJsonObject();</span>
<span class="nc" id="L69">        cd.setObject(jsobj.get(key));</span>
<span class="nc" id="L70">      } catch (RuntimeException ex) {</span>
<span class="nc" id="L71">        throw new ParameterNotAvailableException(key + &quot; is not available or it is empty.&quot;);</span>
<span class="nc" id="L72">      }</span>
    }

<span class="nc" id="L75">    return cd;</span>

  }

  /**
   * Retrieves collection by position.
   * @param key object position to retrieve
   *
   * @return the {@link CustomCollection}
   */

  public CustomCollection get(int key) throws IndexNotAvailableException {
<span class="nc" id="L87">    CustomCollection cd = new CustomCollection();</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">    if (this.object instanceof JsonArray) {</span>
      // System.out.println(&quot;Array&quot;);
<span class="nc" id="L90">      int size = 0;</span>
      try {
<span class="nc" id="L92">        JsonArray jsarr = this.getObject().getAsJsonArray();</span>
<span class="nc" id="L93">        size = jsarr.size();</span>
<span class="nc" id="L94">        cd.setObject(jsarr.get(key));</span>
<span class="nc" id="L95">      } catch (RuntimeException ex) {</span>
<span class="nc" id="L96">        throw new IndexNotAvailableException(&quot;Index: &quot; + key + &quot;, &quot; + &quot; Size: &quot; + size);</span>
<span class="nc" id="L97">      }</span>
    }

<span class="nc" id="L100">    return cd;</span>

  }

  /**
   * Retrieve list of collections by key.
   * @param key key for retrieval
   *
   * @return the {@link CustomCollection} list
   */

  public List&lt;CustomCollection&gt; getList(String key) throws ParameterNotAvailableException, IllegalMethodException {
<span class="nc" id="L112">    List&lt;CustomCollection&gt; listCustomCollections = new ArrayList&lt;CustomCollection&gt;();</span>
<span class="nc" id="L113">    CustomCollection cd = new CustomCollection();</span>
<span class="nc bnc" id="L114" title="All 2 branches missed.">    if (this.object instanceof JsonObject) {</span>
      // System.out.println(&quot;Array&quot;);
      try {
<span class="nc" id="L117">        JsonObject jsarr = this.getObject().getAsJsonObject();</span>
<span class="nc" id="L118">        cd.setObject(jsarr.get(key).getAsJsonArray());</span>
<span class="nc" id="L119">      } catch (NullPointerException e) {</span>
<span class="nc" id="L120">        throw new ParameterNotAvailableException(key + &quot; is not available or it is an empty list.&quot;);</span>
<span class="nc" id="L121">      } catch (IllegalStateException e) {</span>
<span class="nc" id="L122">        throw new IllegalMethodException(key + &quot; is not a list.&quot;);</span>
<span class="nc" id="L123">      }</span>

<span class="nc" id="L125">      JsonArray array = cd.getObject().getAsJsonArray();</span>
<span class="nc" id="L126">      int length = array.size();</span>
<span class="nc" id="L127">      Gson gson = new GsonBuilder().setPrettyPrinting().create();</span>
<span class="nc bnc" id="L128" title="All 2 branches missed.">      for (int i = 0; i &lt; length; i++) {</span>
<span class="nc" id="L129">        CustomDeserializer customDeserializer = new CustomDeserializer();</span>
<span class="nc" id="L130">        CustomCollection customCollection = customDeserializer.convertObject(gson.toJson(array.get(i)));</span>
<span class="nc" id="L131">        listCustomCollections.add(customCollection);</span>
      }
    }

<span class="nc" id="L135">    return listCustomCollections;</span>

  }

  /**
   * Retrieves value for key.
   * @param key value key
   *
   * @return the {@link String}
   */

  public String getValue(String key) throws ParameterNotAvailableException {
    // System.out.println(this.getTempobj().toString());
    try {
<span class="nc" id="L149">      JsonObject tempJsonObject = this.getObject().getAsJsonObject();</span>
<span class="nc" id="L150">      return tempJsonObject.get(key).toString();</span>
<span class="nc" id="L151">    } catch (RuntimeException ex) {</span>
<span class="nc" id="L152">      throw new ParameterNotAvailableException(key + &quot; is not available.&quot;);</span>
    }
    /*
     * if(tempJsonObject.get(key) instanceof JsonElement)
     * System.out.println(&quot;String&quot;); else System.out.println(&quot;No&quot;);
     */

  }

  /**
   * Retrieves collection list for annotation list.
   * @param listAnnotation annotation list for retrieval
   *
   * @return the {@link CustomCollection} list
   */

  public List&lt;CustomCollection&gt; convertToCustomCollectionList(List&lt;Object&gt; listAnnotation) {

<span class="nc" id="L170">    List&lt;CustomCollection&gt; lisCustomCollections = new ArrayList&lt;CustomCollection&gt;();</span>
<span class="nc" id="L171">    Gson gson = new GsonBuilder().setPrettyPrinting().create();</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">    for (Object annotation : listAnnotation) {</span>
<span class="nc" id="L173">      CustomCollection customCollection = new CustomCollection();</span>
<span class="nc" id="L174">      CustomDeserializer customDeserializer = new CustomDeserializer();</span>
<span class="nc" id="L175">      customCollection = customDeserializer.convertObject(gson.toJson(annotation));</span>
<span class="nc" id="L176">      lisCustomCollections.add(customCollection);</span>

<span class="nc" id="L178">    }</span>

<span class="nc" id="L180">    return lisCustomCollections;</span>
  }

  /**
   * Converts annotation to collection.
   * @param annotation annotation to convert
   *
   * @return the {@link CustomCollection}
   */

  public CustomCollection convertToCustomCollection(Object annotation) {

<span class="nc" id="L192">    Gson gson = new GsonBuilder().setPrettyPrinting().create();</span>
<span class="nc" id="L193">    CustomCollection customCollection = new CustomCollection();</span>
<span class="nc" id="L194">    CustomDeserializer customDeserializer = new CustomDeserializer();</span>
<span class="nc" id="L195">    customCollection = customDeserializer.convertObject(gson.toJson(annotation));</span>

<span class="nc" id="L197">    return customCollection;</span>
  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>